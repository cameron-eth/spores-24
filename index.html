<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spores Order Form</title>
    <link rel="stylesheet" href="audio.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black">

  <!-- Centered Image -->
  <div class="flex justify-center">
    <img class="mt-10 h-40 mb-10" src="s.png" alt="Image description">
  </div>

  <!-- Spotify Embed -->
  <div class="flex justify-center mt-10">
    <iframe
        style="border-radius: 12px; width: 100%; max-width: 300px; height: 100px;"
        src="https://open.spotify.com/embed/track/1GhXFdjJ9Y9b157a2bY04y?utm_source=generator"
        frameBorder="0"
        allow="autoplay; clipboard-write; encrypted-media; picture-in-picture"
        loading="lazy">
    </iframe>
  </div>

  <!-- JotForm Iframe Embed -->
  <div class="flex justify-center mt-10">
    <iframe
        id="JotFormIFrame-240427922825155"
        title="Spores Order Form"
        onload="window.parent.scrollTo(0,0)"
        allowtransparency="true"
        allowfullscreen="true"
        allow="geolocation; microphone; camera"
        src="https://form.jotform.com/240427922825155"
        frameborder="0"
        style="min-width:100%;max-width:100%;height:539px;border:none;"
        scrolling="no">
    </iframe>
    <script>
      var ifr = document.getElementById("JotFormIFrame-240427922825155");
      if (ifr) {
        var src = ifr.src;
        var iframeParams = [];
        if (window.location.href && window.location.href.indexOf("?") > -1) {
          iframeParams = iframeParams.concat(window.location.href.substr(window.location.href.indexOf("?") + 1).split('&'));
        }
        if (src && src.indexOf("?") > -1) {
          iframeParams = iframeParams.concat(src.substr(src.indexOf("?") + 1).split("&"));
          src = src.substr(0, src.indexOf("?"))
        }
        iframeParams.push("isIframeEmbed=1");
        ifr.src = src + "?" + iframeParams.join('&');
      }

      window.handleIFrameMessage = function(e) {
        if (typeof e.data === 'object') { return; }
        var args = e.data.split(":");
        var iframe = document.getElementById("JotFormIFrame-" + (args.length > 2 ? args[(args.length - 1)] : 'JotFormIFrame-240427922825155'));
        if (!iframe) { return; }
        switch (args[0]) {
          case "scrollIntoView":
            iframe.scrollIntoView();
            break;
          case "setHeight":
            iframe.style.height = args[1] + "px";
            break;
          case "reloadPage":
            window.location.reload();
            break;
          case "loadScript":
            if (!window.isPermitted(e.origin, ['jotform.com', 'jotform.pro'])) { break; }
            var src = args[1] + (args.length > 3 ? ':' + args[2] : '');
            var script = document.createElement('script');
            script.src = src;
            document.body.appendChild(script);
            break;
        }
        var isJotForm = e.origin.indexOf("jotform") > -1;
        if (isJotForm && "contentWindow" in iframe && "postMessage" in iframe.contentWindow) {
          var urls = {"docurl": encodeURIComponent(document.URL), "referrer": encodeURIComponent(document.referrer)};
          iframe.contentWindow.postMessage(JSON.stringify({"type": "urls", "value": urls}), "*");
        }
      };

      window.isPermitted = function(originUrl, whitelisted_domains) {
        var url = document.createElement('a');
        url.href = originUrl;
        var hostname = url.hostname;
        return whitelisted_domains.some(domain => hostname.slice((-1 * domain.length - 1)) === '.'.concat(domain) || hostname === domain);
      };

      if (window.addEventListener) {
        window.addEventListener("message", handleIFrameMessage, false);
      } else if (window.attachEvent) {
        window.attachEvent("onmessage", handleIFrameMessage);
      }
    </script>
  </div>

  <!-- 3D Model Viewer -->
  <div class="flex justify-center mt-10">
    <model-viewer src="spores.glb" alt="A 3D model" auto-rotate camera-controls></model-viewer>
  </div>

</body>
</html>
